erDiagram

  "sessions" {
    String id "ğŸ—ï¸"
    String authorDid 
    DateTime createdAt 
    DateTime expiresAt 
    DateTime revokedAt "â“"
    }
  

  "session_keys" {
    String userKeyPairId 
    String recipientDid "ğŸ—ï¸"
    Bytes encryptedDek 
    DateTime createdAt 
    }
  

  "encrypted_posts" {
    String id "ğŸ—ï¸"
    String uri 
    String rkey 
    String authorDid 
    String langs 
    String replyRootUri "â“"
    String replyUri "â“"
    Bytes encryptedContent 
    DateTime createdAt 
    }
  

  "user_features" {
    String id "ğŸ—ï¸"
    String userDid 
    String key 
    String value 
    DateTime createdAt 
    DateTime updatedAt 
    }
  
    "sessions" o{--}o "session_keys" : "sessionKeys"
    "sessions" o{--}o "encrypted_posts" : "posts"
    "session_keys" o|--|| "sessions" : "session"
    "encrypted_posts" o|--|| "sessions" : "session"
